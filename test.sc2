*--------------------------------------------------------------------------------------------------------------------------------------------------------
* (ES) AUTOGENERADO - ¡¡ATENCIÓN!! - ¡¡NO PENSADO PARA EJECUTAR!! USAR SOLAMENTE PARA INTEGRAR CAMBIOS Y ALMACENAR CON HERRAMIENTAS SCM!!
* (EN) AUTOGENERATED - ATTENTION!! - NOT INTENDED FOR EXECUTION!! USE ONLY FOR MERGING CHANGES AND STORING WITH SCM TOOLS!!
*--------------------------------------------------------------------------------------------------------------------------------------------------------
*< FOXBIN2PRG: Version="1.19" SourceFile="C:\DESA\test2\test.scx" /> (Solo para binarios VFP 9 / Only for VFP 9 binaries)
*
*
DEFINE CLASS Dataenvironment AS dataenvironment 
 	*< CLASSDATA: Baseclass="dataenvironment" Timestamp="" Scale="" Uniqueid="" ClassIcon="1" />

	DataSource = .NULL.
	Height = 200
	Left = 1
	Name = "Dataenvironment"
	Top = 220
	Width = 520

ENDDEFINE

DEFINE CLASS frmTest AS form 
 	*< CLASSDATA: Baseclass="form" Timestamp="" Scale="" Uniqueid="" />

	*-- OBJECTDATA items order determines ZOrder / El orden de los items OBJECTDATA determina el ZOrder 
	*< OBJECTDATA: ObjPath="Shape1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="pgfDatosYCosto" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="pgfDatosYCosto.pagDATOS.Label1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="pgfDatosYCosto.pagDATOS.Label4" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="pgfDatosYCosto.pagDATOS.txtCodigo" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="pgfDatosYCosto.pagDATOS.cmdID" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="pgfDatosYCosto.pagDATOS.Label3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="pgfDatosYCosto.pagDATOS.txtDescrip" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="pgfDatosYCosto.pagDATOS.cmdColor" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="pgfDatosYCosto.pagDATOS.shpColor" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdSalir" UniqueID="" Timestamp="" />

	*<DefinedPropArrayMethod>
		*p: o_bus
	*</DefinedPropArrayMethod>

	Caption = "Form compartido por dos Desarrollos para mostrar el MERGE"
	DoCreate = .T.
	Height = 249
	Left = 0
	Name = "frmTest"
	o_bus = .NULL.
	Top = 0
	Width = 519

	ADD OBJECT 'cmdSalir' AS commandbutton WITH ;
		Caption = "Salir", ;
		Height = 27, ;
		Left = 420, ;
		Name = "cmdSalir", ;
		TabIndex = 2, ;
		Top = 212, ;
		Width = 84
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'pgfDatosYCosto' AS pageframe WITH ;
		ErasePage = .T., ;
		Height = 184, ;
		Left = 20, ;
		Name = "pgfDatosYCosto", ;
		PageCount = 1, ;
		TabIndex = 1, ;
		TabStyle = 1, ;
		Top = 8, ;
		Width = 484, ;
		Page1.Caption = "DATOS", ;
		Page1.Name = "pagDATOS"
		*< END OBJECT: BaseClass="pageframe" />

	ADD OBJECT 'pgfDatosYCosto.pagDATOS.cmdColor' AS commandbutton WITH ;
		Caption = "Color", ;
		Height = 27, ;
		Left = 335, ;
		Name = "cmdColor", ;
		TabIndex = 4, ;
		Top = 92, ;
		Width = 44
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'pgfDatosYCosto.pagDATOS.cmdID' AS commandbutton WITH ;
		Caption = "ID", ;
		Height = 27, ;
		Left = 335, ;
		Name = "cmdID", ;
		TabIndex = 3, ;
		Top = 60, ;
		Width = 44
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'pgfDatosYCosto.pagDATOS.Label1' AS label WITH ;
		BackStyle = 0, ;
		Caption = "Descripción", ;
		Height = 17, ;
		Left = 111, ;
		Name = "Label1", ;
		TabIndex = 5, ;
		Top = 12, ;
		Width = 80
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'pgfDatosYCosto.pagDATOS.Label3' AS label WITH ;
		BackStyle = 0, ;
		Caption = "Código", ;
		Height = 17, ;
		Left = 111, ;
		Name = "Label3", ;
		TabIndex = 7, ;
		Top = 68, ;
		Width = 80
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'pgfDatosYCosto.pagDATOS.Label4' AS label WITH ;
		BackStyle = 0, ;
		Caption = "Color", ;
		Height = 17, ;
		Left = 111, ;
		Name = "Label4", ;
		TabIndex = 6, ;
		Top = 100, ;
		Width = 80
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'pgfDatosYCosto.pagDATOS.shpColor' AS shape WITH ;
		FillColor = 255,255,255, ;
		FillStyle = 0, ;
		Height = 21, ;
		Left = 207, ;
		Name = "shpColor", ;
		SpecialEffect = 0, ;
		Top = 96, ;
		Width = 116
		*< END OBJECT: BaseClass="shape" />

	ADD OBJECT 'pgfDatosYCosto.pagDATOS.txtCodigo' AS textbox WITH ;
		ControlSource = "THISFORM.o_bus.c_ID", ;
		Height = 23, ;
		Left = 207, ;
		Name = "txtCodigo", ;
		ReadOnly = .T., ;
		TabIndex = 2, ;
		Top = 64, ;
		Width = 116
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'pgfDatosYCosto.pagDATOS.txtDescrip' AS textbox WITH ;
		ControlSource = "THISFORM.o_bus.c_descrip", ;
		Format = "!", ;
		Height = 23, ;
		Left = 207, ;
		Name = "txtDescrip", ;
		TabIndex = 1, ;
		Top = 8, ;
		Width = 176
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'Shape1' AS shape WITH ;
		Height = 2, ;
		Left = 12, ;
		Name = "Shape1", ;
		SpecialEffect = 0, ;
		Top = 200, ;
		Width = 496
		*< END OBJECT: BaseClass="shape" />
	
	PROCEDURE Activate
		THIS.Refresh()
		
	ENDPROC

	PROCEDURE Load
		THISFORM.o_bus = NEWOBJECT("FORM_BUS", "TEST.VCX")
		
	ENDPROC

	PROCEDURE cmdSalir.Click
		CLEAR EVENTS
		THISFORM.Hide()
		THISFORM.Release()
		
	ENDPROC

	PROCEDURE pgfDatosYCosto.pagDATOS.cmdColor.Click
		LOCAL lnColor
		lnColor = GETCOLOR(16777215)
		THISFORM.o_bus.n_Color			= lnColor
		THIS.Parent.shpColor.FillColor	= lnColor
		
	ENDPROC

	PROCEDURE pgfDatosYCosto.pagDATOS.cmdID.Click
		THISFORM.o_bus.set_ID()
		THIS.Parent.Refresh()
		
	ENDPROC

ENDDEFINE
